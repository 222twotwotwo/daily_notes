### 大数据数位和/高精加法
![](2025-12-09-11-30-59.png)
```cpp
#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;
int main(){
    string a,b;
    cin>>a>>b;
    ranges::reverse(a);
    ranges::reverse(b);
    vector<int> res;
    int carry=0;
    for(int i=0; i<a.size() || i<b.size() || carry;i++){
        int x=carry;
        if(i<a.size())x+=a[i]-'0';
        if(i<b.size())x+=b[i]-'0';
        res.push_back(x%10);
        carry=x/10;
    }
    int ans=0;
    for(auto num : res){
        ans+=num;
    }
    cout<<ans<<"\n";
}
```
```cpp
string hi(string a, string b) {
    string result;
    int carry = 0; 
    int i = a.size() - 1, j = b.size() - 1;
    while (i >= 0 || j >= 0 || carry) {
        int sum = carry;
        if (i >= 0) sum += (a[i--] - '0');
        if (j >= 0) sum += (b[j--] - '0');
        result.push_back((sum % 10) + '0'); 
        carry = sum / 10;                   
    }

    reverse(result.begin(), result.end());
    return result;
}
```

### 高精减法
```cpp
#include<iostream>
#include<algorithm>
#include<string>

using namespace std;

bool cmp(string a,string b){
    if(a.size()!=b.size())return a.size()>b.size();
    return a>=b;
}

string high(string a,string b){
    string res;
    int i=a.size()-1,j=b.size()-1;
    int borrow=0;
    while(i>=0){
        int carry=a[i--]-'0'-borrow;
        if(j>=0)carry-=(b[j--] - '0');
        if(carry<0){
            carry+=10;
            borrow=1;
        }
        else{
            borrow=0;
        }
        res.push_back(carry+'0');
    }
    reverse(res.begin(),res.end());
    size_t pos=res.find_first_not_of('0');
    if(pos!=string::npos)res=res.substr(pos);
    else res="0";
    return res;
}


int main(){
    string a,b;
    cin>>a>>b;
    if(cmp(a,b))cout<<high(a,b);
    else cout<<"-"<<high(b,a);
    return 0;
}
```
### 高精乘法（非负
```cpp
#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;

string high(string a,string b){
    int m=a.size(),n=b.size();
    vector<int>res(m+n,0);
    for(int i=m-1;i>=0;i--){
        for(int j=n-1;j>=0;j--){
            int mul=(a[i]-'0') * (b[j]-'0');
            int sum=mul+res[i+j+1];
            res[i+j+1]=sum%10;
            res[i+j]+=sum/10;
        }
    }
    string ans;
    for(auto num : res){
        if(!(ans.empty() && num == 0)){
            ans.push_back(num + '0');
        }
    }
    return ans.empty() ? "0" : ans;
}
```
```cpp
string high(string a, string b) {
    int n = a.size(), m = b.size();
    vector<int> res(n + m, 0); 
    
    for (int i = n - 1; i >= 0; --i) {
        for (int j = m - 1; j >= 0; --j) {
            int mul = (a[i] - '0') * (b[j] - '0');
            int sum = mul + res[i + j + 1]; 
            res[i + j + 1] = sum % 10; 
            res[i + j] += sum / 10; 
        }
    }
    
    string result;
    for (int num : res) {
        if (!(result.empty() && num == 0)) { 
            result.push_back(num + '0');
        }
    }
    return result.empty() ? "0" : result;
}
```
### 高精除法
```cpp
#include<iostream>
#include<algorithm>
using namespace std;
pair<string,int> high (string a,int b){
    string q;
    int p=0;
    for(int i=0;i<a;i++){
        int cur=p*10+(a[i]-'0');
        q.push_back(cur/b+'0');
        p=cur%b;
    }
    size_t pos=q.find_first_not_of('0');
    if(pos!=string::npos)q=q.substr(pos);
    else q="0";
    return {q,p};
}

//更高精度

pair<string,string> high (string a,string b){
    string q;
    string r="0";
    for(int i=0;i<a.size();i++){
        r=high(high(r,"10").first,to_string(a[i]-'0')).first;
        int x=0,l=0,h=9;
        while(l<=h){
            int mid=(l+h)/2;
            string t=high(b,to_string(mid)).first;
            if(cmp(t,r)){
                x=mid;
                l=mid+1;
            }
            else h=mid-1;
        }
        q.push_back(x+'0');
        r=high(r,high(b,to_string(x)).first).second;
    }
    size_t pos=q.find_first_not_of('0');
    if(pos!=string::npos)q=q.substr(pos);
    else q="0";
    return {q,r};
}

```

### 高精阶乘
```cpp
#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;

tring high(string a,string b){
    int m=a.size(),n=b.size();
    vector<int>res(m+n,0);
    for(int i=m-1;i>=0;i--){
        for(int j=n-1;j>=0;j--){
            int mul=(a[i]-'0') * (b[j]-'0');
            int sum=mul+res[i+j+1];
            res[i+j+1]=sum%10;
            res[i+j]+=sum/10;
        }
    }
    string ans;
    for(auto num : res){
        if(!(ans.empty() && num == 0)){
            ans.push_back(num + '0');
        }
    }
    return ans.empty() ? "0" : ans;
}
string hi(string a, string b) {
    string result;
    int carry = 0; 
    int i = a.size() - 1, j = b.size() - 1;
    while (i >= 0 || j >= 0 || carry) {
        int sum = carry;
        if (i >= 0) sum += (a[i--] - '0');
        if (j >= 0) sum += (b[j--] - '0');
        result.push_back((sum % 10) + '0'); 
        carry = sum / 10;                   
    }

    reverse(result.begin(), result.end());
    return result;
}
string Sum(int n) {
    if (n < 1) return "0";
    
    string sum = "0"; 
    string fact = "1"; 
    
    for (int i = 1; i <= n; ++i) {
        if (i > 1) {
            fact = high(fact, to_string(i));
        }
        sum = hi(sum, fact);
    }
    
    return sum;
}

int main(){
    int n;
    cin >> n;
    string res = Sum(n);
    cout << res << endl;
    return 0;
}
```
